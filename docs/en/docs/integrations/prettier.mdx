import { PackageManagerTabs } from "@theme";
import { AvatarImage } from "../../../../theme/components/avatar-image";

<AvatarImage icon="prettier" />

# Prettier

Keep formatting consistent across the extension codebase with minimal manual effort. Prettier runs from scripts, editor integration, and CI rather than inside the Extension.js build pipeline.

## When Prettier is a good fit

- You want deterministic formatting in local and CI workflows.
- You are onboarding contributors and need low-friction style consistency.
- You want ESLint to focus on correctness while Prettier handles formatting.

## Prettier capabilities

| Capability                 | What it gives you                                        |
| -------------------------- | -------------------------------------------------------- |
| Consistent formatting      | One shared style for JS, TS, JSON, CSS, and Markdown     |
| Script and editor workflow | Format on save locally and enforce in CI                 |
| Lint conflict reduction    | Pair with `eslint-config-prettier` to avoid rule overlap |
| Low-maintenance defaults   | Adopt a stable baseline with minimal config              |

## Template examples

### Prettier config template

Preconfigured formatter setup for new projects.

![`new-config-prettier` screenshot](https://raw.githubusercontent.com/extension-js/examples/main/public/new-config-prettier/screenshot.png)

<PackageManagerTabs
  command={{
    npm: "npx extension@latest create my-extension --template=new-config-prettier",
    pnpm: "pnpx extension@latest create my-extension --template=new-config-prettier",
    yarn: "yarn dlx extension@latest create my-extension --template=new-config-prettier",
  }}
/>

Repository: [`examples/new-config-prettier`](https://github.com/extension-js/examples/tree/main/examples/new-config-prettier)

## Usage with an existing extension

Install Prettier:

<PackageManagerTabs command="install -D prettier" />

Create a config file (for example `.prettierrc`):

```json
{
  "semi": false,
  "singleQuote": true,
  "trailingComma": "none",
  "printWidth": 80,
  "tabWidth": 2,
  "arrowParens": "always"
}
```

Run Prettier from scripts or manually:

<PackageManagerTabs
  command={{
    npm: "npm run format",
    pnpm: "pnpm format",
    yarn: "yarn format",
  }}
/>

If no format script exists yet:

<PackageManagerTabs command="prettier --write ." />

{/* VIDEO_DEMO_SOON: Show formatting drift in files, then run Prettier to normalize output. */}
![Video demo soon: Prettier formatting workflow](https://placehold.co/960x540?text=Video+demo+soon)

## Integration with ESLint

To avoid formatting-rule conflicts in ESLint, install:

<PackageManagerTabs command="install -D eslint-config-prettier" />

Then add `eslint-config-prettier` in your ESLint config chain so ESLint defers formatting concerns to Prettier.

## Best practices

- Keep formatting automatic in editor and CI, not manual.
- Use `--check` in CI and `--write` locally.
- Format staged files pre-commit in larger repos.

## Next steps

- Learn how to configure [ESLint](./eslint.mdx).
- Add stylesheet linting with [Stylelint](./stylelint.mdx).
